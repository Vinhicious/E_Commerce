-- Criar tabela clientes
DROP TABLE IF EXISTS clientes;
CREATE TABLE clientes (
    Cliente_ID INT PRIMARY KEY NOT NULL AUTO_INCREMENT,
    Nome VARCHAR(50) NOT NULL,
    Email VARCHAR(50) NOT NULL,
    Telefone VARCHAR(15) NOT NULL,
    Data_Cadastro DATE NOT NULL
);

-- Criar tabela endere√ßos
DROP TABLE IF EXISTS enderecos;
CREATE TABLE enderecos (
    Endereco_ID INT PRIMARY KEY NOT NULL AUTO_INCREMENT,
    Rua VARCHAR(50) NOT NULL,
    Estado VARCHAR(50) NOT NULL,
    CEP VARCHAR(10) NOT NULL,
    Cliente_ID INT,
    FOREIGN KEY (Cliente_ID) REFERENCES clientes(Cliente_ID)
);

-- Criar tabela categorias
DROP TABLE IF EXISTS categorias;
CREATE TABLE categorias (
    Categoria_ID INT PRIMARY KEY NOT NULL AUTO_INCREMENT,
    Nome VARCHAR(50) NOT NULL,
    Descricao VARCHAR(50) NOT NULL
);

-- Criar tabela fornecedores
DROP TABLE IF EXISTS fornecedores;
CREATE TABLE fornecedores (
    Fornecedor_ID INT PRIMARY KEY NOT NULL AUTO_INCREMENT,
    Nome VARCHAR(50) NOT NULL,
    Telefone VARCHAR(15) NOT NULL,
    Email VARCHAR(50) NOT NULL
);

-- Criar tabela produtos
DROP TABLE IF EXISTS produtos;
CREATE TABLE produtos (
    Produtos_ID INT PRIMARY KEY NOT NULL AUTO_INCREMENT,
    Nome VARCHAR(50) NOT NULL,
    Descricao VARCHAR(50) NOT NULL,
    Preco DECIMAL(10, 2) NOT NULL,
    Estoque INT NOT NULL,
    Categoria_ID INT,
    Fornecedor_ID INT,
    FOREIGN KEY (Categoria_ID) REFERENCES categorias(Categoria_ID),
    FOREIGN KEY (Fornecedor_ID) REFERENCES fornecedores(Fornecedor_ID)
);

-- Criar tabela status_pedido
DROP TABLE IF EXISTS status_pedido;
CREATE TABLE status_pedido (
    Status_ID INT PRIMARY KEY NOT NULL AUTO_INCREMENT,
    Descricao VARCHAR(50) NOT NULL
);

-- Criar tabela vendas
DROP TABLE IF EXISTS vendas;
CREATE TABLE vendas (
    Venda_ID INT PRIMARY KEY NOT NULL AUTO_INCREMENT,
    Data_Venda DATE NOT NULL,
    Cliente_ID INT,
    Status_ID INT,
    FOREIGN KEY (Cliente_ID) REFERENCES clientes(Cliente_ID),
    FOREIGN KEY (Status_ID) REFERENCES status_pedido(Status_ID)
);

-- Criar tabela itens_venda
DROP TABLE IF EXISTS itens_venda;
CREATE TABLE itens_venda (
    Item_ID INT PRIMARY KEY NOT NULL AUTO_INCREMENT,
    Venda_ID INT,
    Produtos_ID INT,
    Quantidade INT NOT NULL,
    Preco_Unitario DECIMAL(10, 2) NOT NULL,
    FOREIGN KEY (Venda_ID) REFERENCES vendas(Venda_ID),
    FOREIGN KEY (Produtos_ID) REFERENCES produtos(Produtos_ID)
);

-- Criar tabela pagamentos
DROP TABLE IF EXISTS pagamentos;
CREATE TABLE pagamentos (
    Pagamento_ID INT PRIMARY KEY NOT NULL AUTO_INCREMENT,
    Venda_ID INT,
    Data_Pagamento DATE NOT NULL,
    Valor_Pago DECIMAL(10, 2) NOT NULL,
    Metodo_Pagamento VARCHAR(50) NOT NULL,
    FOREIGN KEY (Venda_ID) REFERENCES vendas(Venda_ID)
);

-- Criar tabela carrinho
DROP TABLE IF EXISTS carrinho;
CREATE TABLE carrinho (
    Carrinho_ID INT PRIMARY KEY NOT NULL AUTO_INCREMENT,
    Cliente_ID INT,
    Produto_ID INT,
    Quantidade INT NOT NULL,
    FOREIGN KEY (Cliente_ID) REFERENCES clientes(Cliente_ID),
    FOREIGN KEY (Produto_ID) REFERENCES produtos(Produtos_ID)
);
